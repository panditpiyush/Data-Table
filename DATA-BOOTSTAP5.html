<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<style>
    td.dtfc-fixed-right {
        background: white;
    }

    th.dtfc-fixed-right {
        background: white;
    }

    .scrollbar::-webkit-scrollbar {
        width: 6px;
        background-color: #7d62dd;
    }

    .scrollbar::-webkit-scrollbar-thumb {
        border-radius: 10px;
        background-color: #FFFFFF;
        width: 2px;
        max-height: 3%;
    }
</style>

<body>
    <div class="container">
        <div class="row">
            <div class="col-6">
                <div class="Test">
                    <table id="example" class="table table-bordered" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>First name</th>
                                <th>Last name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                                <th>Extn.</th>
                                <th>E-mail</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Tiger</td>
                                <td>Nixon</td>
                                <td>System Architect</td>
                                <td>Edinburgh</td>
                                <td>61</td>
                                <td>2011/04/25</td>
                                <td>$320,800</td>
                                <td>5421</td>
                                <td>t.nixon@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Garrett</td>
                                <td>Winters</td>
                                <td>Accountant</td>
                                <td>Tokyo</td>
                                <td>63</td>
                                <td>2011/07/25</td>
                                <td>$170,750</td>
                                <td>8422</td>
                                <td>g.winters@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Ashton</td>
                                <td>Cox</td>
                                <td>Junior Technical Author</td>
                                <td>San Francisco</td>
                                <td>66</td>
                                <td>2009/01/12</td>
                                <td>$86,000</td>
                                <td>1562</td>
                                <td>a.cox@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Cedric</td>
                                <td>Kelly</td>
                                <td>Senior Javascript Developer</td>
                                <td>Edinburgh</td>
                                <td>22</td>
                                <td>2012/03/29</td>
                                <td>$433,060</td>
                                <td>6224</td>
                                <td>c.kelly@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Airi</td>
                                <td>Satou</td>
                                <td>Accountant</td>
                                <td>Tokyo</td>
                                <td>33</td>
                                <td>2008/11/28</td>
                                <td>$162,700</td>
                                <td>5407</td>
                                <td>a.satou@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Brielle</td>
                                <td>Williamson</td>
                                <td>Integration Specialist</td>
                                <td>New York</td>
                                <td>61</td>
                                <td>2012/12/02</td>
                                <td>$372,000</td>
                                <td>4804</td>
                                <td>b.williamson@datatables.net</td>
                            </tr>
                            <tr>
                                <td>Herrod</td>
                                <td>Chandler</td>
                                <td>Sales Assistant</td>
                                <td>San Francisco</td>
                                <td>59</td>
                                <td>2012/08/06</td>
                                <td>$137,500</td>
                                <td>9608</td>
                                <td>h.chandler@datatables.net</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">


    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>

    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/fixedcolumns/4.2.1/js/dataTables.fixedColumns.min.js"></script>


    <script>
        $(document).ready(function () {
            $('#example').DataTable({
                scrollY: "300px",
                scrollX: true,
                scrollCollapse: true,
                paging: false,
                fixedColumns:
                {
                    right: 1,
                    left: 0
                },
                // "initComplete": function (settings, json) {
                //     $('body').find('.dataTables_scrollBody').addClass("scrollbar");
                // },
            });

            var $container = $(".Test");
            var $scroller = $(".dataTables_scrollBody");;

            bindDragScroll($container, $scroller);
        });

        function bindDragScroll($container, $scroller) {
            var $window = $(window);
            var x = 0;
            var y = 0;
            var x2 = 0;
            var y2 = 0;
            var t = 0;
            $container.on("mousedown", down);
            $container.on("click", preventDefault);
            $scroller.on("mousewheel", horizontalMouseWheel); // prevent macbook trigger prev/next page while scrolling
            function down(evt) {
                //alert("down");
                if (evt.button === 0) {
                    t = Date.now();
                    x = x2 = evt.pageX;
                    y = y2 = evt.pageY;
                    $container.addClass("down");
                    $window.on("mousemove", move);
                    $window.on("mouseup", up);
                    evt.preventDefault();
                }
            }
            function move(evt) {
                // alert("move");
                if ($container.hasClass("down")) {
                    var _x = evt.pageX;
                    var _y = evt.pageY;
                    var deltaX = _x - x;
                    var deltaY = _y - y;
                    $scroller[0].scrollLeft -= deltaX;
                    x = _x;
                    y = _y;
                }
            }
            function up(evt) {
                $window.off("mousemove", move);
                $window.off("mouseup", up);
                var deltaT = Date.now() - t;
                var deltaX = evt.pageX - x2;
                var deltaY = evt.pageY - y2;
                if (deltaT <= 300) {
                    $scroller.stop().animate({
                        scrollTop: "-=" + deltaY * 3,
                        scrollLeft: "-=" + deltaX * 3
                    }, 500, function (x, t, b, c, d) {
                        // easeOutCirc function from http://gsgd.co.uk/sandbox/jquery/easing/
                        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;
                    });
                }
                t = 0;
                $container.removeClass("down");
            }
            function preventDefault(evt) {
                if (x2 !== evt.pageX || y2 !== evt.pageY) {
                    evt.preventDefault();
                    return false;
                }
            }
            function horizontalMouseWheel(evt) {
                evt = evt.originalEvent;
                var x = $scroller.scrollLeft();
                var max = $scroller[0].scrollWidth - $scroller[0].offsetWidth;
                var dir = (evt.deltaX || evt.wheelDeltaX);
                var stop = dir > 0 ? x >= max : x <= 0;
                if (stop && dir) {
                    evt.preventDefault();
                }
            }
        }
    </script>
</body>

</html>